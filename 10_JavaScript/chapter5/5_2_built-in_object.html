<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // 내장 객체(JS 기본 제공)
    // 자바스크립트 엔진에 내장되어 필요한 경우 생성하여 사용
    // Object 객체는 모든 JS 객체의 최상위(루트) 객체
    // 그 외에도 String, Number, Date, Array, Math 등 다양한 객체가 존재

    // 1. String 객체
    // 문자열을 다루기 위한 객체로 문자열을 다룰 때 유용한 속성과 함수를 제공
    // 문자열 생성 2가지 방식
    // 변수 = new String('문자');
    // 변수 = '문자'; => 리터럴 방식
    document.write('<h1>String 객체</h1>');

    // 1) length
    // 문자열 길이를 반환하는 속성
    document.write('<h4>문자열 길이</h4>');
    const txt = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    const sln = txt.length;
    document.write(sln, '<br>');

    // 2) indexOf()
    // 문자열 안에 특정 문자열이 존재하는지 찾고,
    // 있다면 찾고자 하는 문자열이 시작되는 index를 반환(처음 나타나는 위치)
    // 발견하지 못하면 -1을 반환
    document.write('<h4>문자열 검색</h4>');
    let str = 'Please locate where "locate" occurs!';
    let pos = str.indexOf('locate');
    document.write(pos, '<br>');

    // 3) lastIndexOf()
    // 문자열 안에 특정 문자열이 존재하는지를 찾는 것은 동일
    // 찾고자 하는 문자열이 둘 이상 발견되면 제일 마지막에 발견된 문자열의 index를 반환(문자열 끝에서부터 검색)
    // 발견하지 못하면 -1을 반환
    pos = str.lastIndexOf('locate');
    document.write(pos, '<br>');

    // 검색 시작 위치(index) 지정 가능
    pos = str.indexOf('locate', 15); // 15번째 index부터 찾기 시작
    document.write(pos, '<br>');
    pos = str.lastIndexOf('locate', 15);
    document.write(pos, '<br>');

    // (ES6차) includes()
    // 지정된 문자열이 포함된 경우 true를 반환
    // 그렇지 않으면 false를 반환
    pos = str.includes('locate');
    document.write(pos, '<br>');
    pos = str.includes('locate', 15);
    document.write(pos, '<br>');

    // 실습: 사용자로부터 입력받은 이메일 주소 유효성 검사
    // 정규표현식을 안쓰는 경우(실무에서는 정규식 사용!!)
    document.write('<h4>실습: 이메일 주소 유효성 검사</h4>');
    // const userEmail = prompt('당신의 이메일 주소는?');
    // const arrUrl = ['.co.kr', '.com', '.net', '.or.kr', '.go.kr'];

    // let check1 = false;
    // let check2 = false;

    // if (userEmail.indexOf('@') > 0) { // @가 있는지 검사
    //   check1 = true;
    // }

    // for (let i = 0; i < arrUrl.length; i++) {
    //   if (userEmail.indexOf(arrUrl[i]) > 0) { // 도메인 검사
    //     check2 = true;
    //     break;
    //   }
    // }

    // if (check1 && check2) {
    //   document.write(userEmail, '<br>');
    // } else {
    //   alert('이메일 형식이 잘못되었습니다.');
    // }

    // (참고) 정규 표현식(정규식)
    // 문자열에서 특정 문자 조합을 찾기 위한 패턴
    // 주로 회원가입 시 유효성 검사(패스워드, 이메일, 전화번호 포맷 검증 등)에 사용

    // 4) slice()
    // 시작 위치와 종료 위치를 주면, 문자열에서 해당 부분을 잘라내서 반환
    document.write('<h4>문자열 추출</h4>');
    str = 'Apple, Banana, Kiwi';
    let res = str.slice(7, 13);
    document.write(res, '<br>');

    // 두번째 인수인 종료 위치를 생략하면, 시작 위치에서 문자열의 마지막 위치까지 잘라내서 반환
    res = str.slice(7);
    document.write(res, '<br>');

    // 첫번째 인수인 시작 위치를 음수로 주면, 문자열의 끝에서부터 거꾸로 읽게 됨
    res = str.slice(-12);
    document.write(res, '<br>');

  </script>
</body>
</html>